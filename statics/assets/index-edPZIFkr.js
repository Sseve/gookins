import{u as w,r as i,c as v,a as t,w as s,b as l,o as x,d as b,e as V,f as y,E as h}from"./index-y1BZ-Toa.js";import{u as E}from"./user-BMYIhBX-.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-Sx4CXzmN.js";const k={class:"login-container"},B={__name:"index",setup(C){const u=y(),m=w(),r=i({name:"admin",password:"111111"}),p=i({name:[{required:!0,validator:(a,e,o)=>{e===""?o(new Error("请输入用户")):o()},trigger:"blur"}],password:[{required:!0,validator:(a,e,o)=>{e===""?o(new Error("请输入密码")):o()},trigger:"blur"}]}),_=async()=>{try{const a=await E(r);m.setToken(a.token),u.push("/")}catch(a){h({message:a||"Login Error",type:"error",duration:5*1e3})}};return(a,e)=>{const o=l("el-input"),n=l("el-form-item"),c=l("el-button"),f=l("el-form"),g=l("el-card");return x(),v("div",k,[t(g,{class:"login-box"},{default:s(()=>[e[3]||(e[3]=b("h3",{class:"login-title"},"Gookins发版系统",-1)),t(f,{model:r,rules:p,"label-width":"auth"},{default:s(()=>[t(n,{label:"用户",prop:"name"},{default:s(()=>[t(o,{modelValue:r.name,"onUpdate:modelValue":e[0]||(e[0]=d=>r.name=d),placeholder:"请输入用户",type:"text"},null,8,["modelValue"])]),_:1}),t(n,{label:"密码",prop:"password"},{default:s(()=>[t(o,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=d=>r.password=d),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])]),_:1}),t(n,{"label-width":"100px"},{default:s(()=>[t(c,{type:"primary",onClick:_},{default:s(()=>e[2]||(e[2]=[V("登陆")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}},U=N(B,[["__scopeId","data-v-adeb5dee"]]);export{U as default};
